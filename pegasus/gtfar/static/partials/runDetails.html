
<!--
  ~ Copyright 2007-2014 University Of Southern California
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing,
  ~  software distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->
<div class="jumbotron">
    <div class="container">
        <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.message}}</alert>
        <h3>{{run.name}}</h3>

        <div class="inputFileSection col-md-12">
            <h4 class="col-md-12">Input File:</h4>
            <div  class="col-md-3 text-center">
                <i class="fa fa-file-text-o fa-3x"></i><br/>
                <b><a ng-href="{{inputDownload + run.filename}}">{{run.filename}}</a></b>
            </div>
        </div>
        <div class="gtf col-md-12">
            <h4 class="col-md-2 control-label">GTF:</h4>
            <h4>{{run.gtf}}</h4>
        </div>
        <div class="genome col-md-12">
            <h4 class="col-md-2 control-label">Genome:</h4>
            <h4>{{run.genome}}</h4>
        </div>
        <div class="readLen col-md-12">
            <h4 class="col-md-2 control-label">Read Length:</h4>
            <h4>{{run.readLength}}</h4>
        </div>
        <div class="mismatches col-md-12">
            <h4 class="col-md-2 control-label">Mismatches Allowed:</h4>
            <h4>{{run.mismatches}}</h4>
        </div>
        <div class="mapFiltered col-md-12">
            <h4 class="col-md-2 control-label">Map Filtered:</h4>
            <input type="checkbox" ng-model="run.mapFiltered" disabled>
        </div>
        <div class="strandRule col-md-12">
            <h4 class="col-md-2 control-label">Strand Rule:</h4>
            <h4>{{run.strandRule}}</h4>
        </div>
        <div class="email col-md-12">
            <h4 class="col-md-2 control-label">Email Recipient:</h4>
            <h4><a ng-href="mailto:{{run.email}}">{{run.email}}</a></h4>
        </div>

        <div class="col-md-12">
            <h4 class="col-md-12">Status :</h4>
            <div class="progressContainer col-md-10" ng-show="showBarOrAlert('bar')">
                <div class="progress">
                    <div class="progress-bar" ng-class="getStatusColor('progress-bar')" role="progressbar" aria-valuenow="{{status.progress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{status.progress}}%;">
                        {{status.progress}}%
                    </div>
                </div>
                <div class="col-md-2">
                    <button class="btn btn-danger btn-sm" ng-click="stopRun()">Stop</button>
                </div>
            </div>
            <div ng-show="showBarOrAlert('alert')" class="alert col-md-12" role="alert" ng-class="getStatusColor('alert')">{{getStatusText()}}</div>
            <h4 class="failures col-md-12" ng-show="status.failed > 0">Failures: {{status.failed}}</h4>
        </div>


        <div class="outputFileSection col-md-12" ng-show="{{outputFiles.len > 0}}">
            <h4>Output File(s):</h4>
            <ul class="nav nav-pills">
                <li ng-repeat="file in outputFiles" class="col-md-3 text-center">
                    <a ng-href="{{outputDownload + file.name}}">{{file.name}}</a>
                </li>
            </ul>
        </div>
        <button class="btn btn-default bt-sm col-md-offset-10" ng-click="gotoList()">Back To List</button>
    </div>
</div>