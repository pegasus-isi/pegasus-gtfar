<!DOCTYPE html>
<!--
  ~ Copyright 2007-2014 University Of Southern California
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing,
  ~  software distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  -->


<div class="jumbotron container">
    <h3>Create a New Workflow</h3><br/>
    <form id="runForm" name="form" class="form-horizontal" role="form" enctype="multipart/form-data" method="post" action="">
        <div class="form-group">
            <label for="inputRunName" class="col-md-2">Workflow Name</label>
            <div class="col-md-6">
                <input type="text" class="form-control" id="inputRunName" placeholder="Workflow Name" ng-model="run.name" name="name" required alphanumeric>
            </div>
        </div>
        <div class="form-group">
            <label for="inputEmail" class="col-md-2">Email Address</label>
            <div class="col-md-6">
                <input type="email" class="form-control" id="inputEmail" placeholder="Enter email" ng-model="run.email" name="email" required>
            </div>
        </div>
        <div class="form-group">
            <label for="inputReadLength" class="col-md-2">Read Length (50-128)</label>
            <div class="col-md-1">
                <input type="text" class="form-control" id="inputReadLength" ng-model="run.readLength" name="readLength" required integer min="50" max="128">
            </div>
        </div>
        <div class="form-group">
            <label for="inputMismatches" class="col-md-2">Mismatches Allowed (0-8)</label>
            <div class="col-md-1">
                <input type="text" class="form-control" id="inputMismatches" ng-model="run.mismatches" name="mismatches" required integer min="0" max="8">
            </div>
        </div>
        <div class="form-group">
            <label for="inputStrandRule" class="col-md-2">Strand Rule</label>
            <div class="col-md-4">
                <select class="form-control" id="inputStrandRule" ng-model="strandRule" ng-options="option.rule for option in strandRuleOptions"></select>
            </div>
        </div>
        <div class="checkbox">
            <label><input type="checkbox" ng-model="run.trimUnmapped">&nbsp Trim Unmapped</label>
        </div>
        <div class="checkbox">
            <label><input type="checkbox" ng-model="run.mapFiltered">&nbsp Map Filtered</label>
        </div>
        <br/>
        <div class="form-group">
            <label for="inputFile" class="col-md-2">File input</label>
            <!-- Use onChange instead of ng-change because the people who write Angular don't think they should support file uploading-->
            <input type="file" name="file" id="inputFile" required onchange="angular.element(this).scope().uploadFile()">
            <div class="col-md-2"></div>
            <p class="help-block col-md-10"><small>Make sure it is under 5 GB.</small></p>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-default col-md-offset-6 button-sm" ng-click="addRun()">Submit</button>
            <button class="btn btn-default button-sm" ng-click="cancel()">Cancel</button>
        </div>
    </form>
</div>